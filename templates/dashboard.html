{% extends 'base.html' %}
{% load static %}
{% load rest_framework %}
{% block title %} Dashboard {{ block.super }}{% endblock %}
{% block content %}
<!-- End Navbar -->
<div class="container-fluid py-4">
  <div class="row">
    <div class="col-sm-4">
      <div class="card">
        <div class="card-body p-3 position-relative">
          <div class="row">
            <div class="col-7 text-start">
              <p class="text-sm mb-1 text-capitalize font-weight-bold">Total To Do </p>
              <h5 class="font-weight-bolder mb-0">
                1222
              </h5>
              <span class="text-sm text-end text-success font-weight-bolder mt-auto mb-0">+55% <span class="font-weight-normal text-secondary">since last month</span></span>
            </div>
            <div class="col-5">
              <div class="dropdown text-end">
                <a href="javascript:;" class="cursor-pointer text-secondary" id="dropdownUsers1" data-bs-toggle="dropdown" aria-expanded="false">
                  <span class="text-xs text-secondary">6 May - 7 May</span>
                </a>
                <ul class="dropdown-menu dropdown-menu-end px-2 py-3" aria-labelledby="dropdownUsers1">
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last 7 days</a></li>
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last week</a></li>
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last 30 days</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-4 mt-sm-0 mt-4">
      <div class="card">
        <div class="card-body p-3 position-relative">
          <div class="row">
            <div class="col-7 text-start">
              <p class="text-sm mb-1 text-capitalize font-weight-bold">Total Customers</p>
              <h5 class="font-weight-bolder mb-0">
                3.200
              </h5>
              <span class="text-sm text-end text-success font-weight-bolder mt-auto mb-0">12222 <span class="font-weight-normal text-secondary">since last month</span></span>
            </div>
            <div class="col-5">
              <div class="dropdown text-end">
                <a href="javascript:;" class="cursor-pointer text-secondary" id="dropdownUsers2" data-bs-toggle="dropdown" aria-expanded="false">
                  <span class="text-xs text-secondary">6 May - 7 May</span>
                </a>
                <ul class="dropdown-menu dropdown-menu-end px-2 py-3" aria-labelledby="dropdownUsers2">
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last 7 days</a></li>
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last week</a></li>
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last 30 days</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-4 mt-sm-0 mt-4">
      <div class="card">
        <div class="card-body p-3 position-relative">
          <div class="row">
            <div class="col-7 text-start">
              <p class="text-sm mb-1 text-capitalize font-weight-bold">Total FRA</p>
              <h5 class="font-weight-bolder mb-0">
               4353
              </h5>
              <span class="font-weight-normal text-secondary text-sm"><span class="font-weight-bolder">+$213</span> since last month</span>
            </div>
            <div class="col-5">
              <div class="dropdown text-end">
                <a href="javascript:;" class="cursor-pointer text-secondary" id="dropdownUsers3" data-bs-toggle="dropdown" aria-expanded="false">
                  <span class="text-xs text-secondary">6 May - 7 May</span>
                </a>
                <ul class="dropdown-menu dropdown-menu-end px-2 py-3" aria-labelledby="dropdownUsers3">
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last 7 days</a></li>
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last week</a></li>
                  <li><a class="dropdown-item border-radius-md" href="javascript:;">Last 30 days</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-lg-4 col-sm-6">
      <div class="card h-100">
        <div class="card-header pb-0 p-3">
          <div class="d-flex justify-content-between">
            <h6 class="mb-0">Channels</h6>
            <button type="button" class="btn btn-icon-only btn-rounded btn-outline-secondary mb-0 ms-2 btn-sm d-flex align-items-center justify-content-center" data-bs-toggle="tooltip" data-bs-placement="bottom" title="" data-bs-original-title="See traffic channels">
              <i class="fas fa-info" aria-hidden="true"></i>
            </button>
          </div>
        </div>
        <div class="card-body pb-0 p-3 mt-4">
          <div class="row">
            <div class="col-7 text-start">
              <div class="chart">
                <canvas id="chart-pie" class="chart-canvas" height="200"></canvas>
              </div>
            </div>
            <div class="col-5 my-auto">
              <span class="badge badge-md badge-dot me-4 d-block text-start">
                <i class="bg-info"></i>
                <span class="text-dark text-xs">Facebook</span>
              </span>
              <span class="badge badge-md badge-dot me-4 d-block text-start">
                <i class="bg-primary"></i>
                <span class="text-dark text-xs">Direct</span>
              </span>
              <span class="badge badge-md badge-dot me-4 d-block text-start">
                <i class="bg-dark"></i>
                <span class="text-dark text-xs">Organic</span>
              </span>
              <span class="badge badge-md badge-dot me-4 d-block text-start">
                <i class="bg-secondary"></i>
                <span class="text-dark text-xs">Referral</span>
              </span>
            </div>
          </div>
        </div>
        <div class="card-footer pt-0 pb-0 p-3 d-flex align-items-center">
          <div class="w-60">
            <p class="text-sm">
              More than <b>1,200,000</b> sales are made using referral marketing, and <b>700,000</b> are from social media.
            </p>
          </div>
          <div class="w-40 text-end">
            <a class="btn bg-light mb-0 text-end" href="javascript:;">Read more</a>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-8 col-sm-6 mt-sm-0 mt-4">
      <div class="card">
        <div class="card-header pb-0 p-3">
          <div class="d-flex justify-content-between">
            <h6 class="mb-0">Revenue</h6>
            <button type="button" class="btn btn-icon-only btn-rounded btn-outline-secondary mb-0 ms-2 btn-sm d-flex align-items-center justify-content-center" data-bs-toggle="tooltip" data-bs-placement="bottom" title="" data-bs-original-title="See which ads perform better">
              <i class="fas fa-info" aria-hidden="true"></i>
            </button>
          </div>
          <div class="d-flex align-items-center">
            <span class="badge badge-md badge-dot me-4">
              <i class="bg-success"></i>
              <span class="text-dark text-xs">Facebook Ads</span>
            </span>
            <span class="badge badge-md badge-dot me-4">
              <i class="bg-dark"></i>
              <span class="text-dark text-xs">Google Ads</span>
            </span>
          </div>
        </div>
        <div class="card-body p-3">
          <div class="chart">
            <canvas id="chart-line" class="chart-canvas" height="300"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- <div class="container-fluid py-4">
    {% include 'components/alert.html' %}
    <div class="row">
      <div class="col-lg-12">
        <div class="card p-3">
        <div class="overflow-hidden position-relative border-radius-lg bg-cover h-100" style="background-image: url('../../assets/img/ivancik.jpg');">
        <span class="mask bg-gradient-dark"></span>
        <div class="card-body position-relative z-index-1 h-100 p-3">
        <h6 class="text-white font-weight-bolder mb-3">Hello, {% if request.user.first_name %}{{ request.user.first_name|title|slice:":10" }}  {% endif %}
          {% if request.user.last_name %}{{ request.user.last_name|title|slice:":10" }}   {% endif %}</h6>
        <p class="text-white mb-3">Infinity Fire Prevention Ltd is an experienced provider of specialist passive fire protection solutions for all sectors and all types of building. Whatever the nature of your building, our aim is to provide our clients with an efficient and cost-effective products and services which exceed all their expectations. Our passive fire prevention services simply provide a total solution which entails one point of contact that is available throughout the year 24/7</p>
        <a class="btn btn-round btn-outline-white mb-0" href="https://www.infinityfireprevention.com/" target="_blank">
          Read More
        </a>
        </div>
        </div>
        </div>
        </div>
    
  </div> -->
{% endblock %}
{% block extra_js %}

<script>
  var ctx1 = document.getElementById("chart-line").getContext("2d");
  var ctx2 = document.getElementById("chart-pie").getContext("2d");


  var gradientStroke1 = ctx1.createLinearGradient(0, 230, 0, 50);

  gradientStroke1.addColorStop(1, 'rgba(203,12,159,0.2)');
  gradientStroke1.addColorStop(0.2, 'rgba(72,72,176,0.0)');
  gradientStroke1.addColorStop(0, 'rgba(203,12,159,0)'); //purple colors

  var gradientStroke2 = ctx1.createLinearGradient(0, 230, 0, 50);

  gradientStroke2.addColorStop(1, 'rgba(20,23,39,0.2)');
  gradientStroke2.addColorStop(0.2, 'rgba(72,72,176,0.0)');
  gradientStroke2.addColorStop(0, 'rgba(20,23,39,0)'); //purple colors

  // Line chart
  new Chart(ctx1, {
    type: "line",
    data: {
      labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
      datasets: [{
          label: "Facebook Ads",
          tension: 0.4,
          borderWidth: 0,
          pointRadius: 2,
          pointBackgroundColor: "#cb0c9f",
          borderColor: "#cb0c9f",
          borderWidth: 3,
          backgroundColor: gradientStroke1,
          fill: true,
          data: [50, 100, 200, 190, 400, 350, 500, 450, 700],
          maxBarThickness: 6
        },
        {
          label: "Google Ads",
          tension: 0.4,
          borderWidth: 0,
          pointRadius: 2,
          pointBackgroundColor: "#3A416F",
          borderColor: "#3A416F",
          borderWidth: 3,
          backgroundColor: gradientStroke2,
          fill: true,
          data: [10, 30, 40, 120, 150, 220, 280, 250, 280],
          maxBarThickness: 6
        }
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        }
      },
      interaction: {
        intersect: false,
        mode: 'index',
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5]
          },
          ticks: {
            display: true,
            padding: 10,
            color: '#9ca2b7'
          }
        },
        x: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: true,
            borderDash: [5, 5]
          },
          ticks: {
            display: true,
            color: '#9ca2b7',
            padding: 10
          }
        },
      },
    },
  });


  // Pie chart
  new Chart(ctx2, {
    type: "pie",
    data: {
      labels: ['Facebook', 'Direct', 'Organic', 'Referral'],
      datasets: [{
        label: "Projects",
        weight: 9,
        cutout: 0,
        tension: 0.9,
        pointRadius: 2,
        borderWidth: 2,
        backgroundColor: ['#17c1e8', '#cb0c9f', '#3A416F', '#a8b8d8'],
        data: [15, 20, 12, 60],
        fill: false
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        }
      },
      interaction: {
        intersect: false,
        mode: 'index',
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
          },
          ticks: {
            display: false
          }
        },
        x: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
          },
          ticks: {
            display: false,
          }
        },
      },
    },
  });


</script>
{% endblock %}
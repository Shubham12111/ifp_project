 <!-- add_customer.html -->
 {% extends 'base.html' %}
 {% load static %}
 {% block title %} Categories {{ block.super }}{% endblock %}
 {% block content %}
 {% load custom_tags %}
 {% include 'components/alert.html' %}
 <div class="container-fluid py-4">
   <div class="row">
     <div class="row mt-4">
       <div class="col-lg-8 col-8 mb-3">
           <!-- Add your content here -->
       </div>
       <div class="col-lg-4 col-4 mb-3 text-right">
         {% if request.user|has_add_permission:"stock_management" %}
           <!-- Show the "Add" button only if the user has the 'can_create_data' permission for 'Vendor' module -->
           <a href="{% url 'category_add' %}" class="btn bg-gradient-primary btn-sm mb-0"  style="float: right;">+&nbsp; Add Category</a>
         {% else %}
           <!-- The user doesn't have the permission, so don't show the "Add" button -->
         {% endif %}
          
       </div>
       <div class="col-12">
         <div class="card">
           <!-- Card header -->
           <div class="card-header pb-0">
             <div class="d-lg-flex justify-content-between">
               <div>
                 <h4 class="mb-0">Categories</h4>
               </div>
 
               </div>
             </div>
         <div class="card-body px-0 pb-0">
          <div class="table-responsive">
             <table class="table table-flush text-dark" id="category-list">
               <thead class="thead-light">
                 <tr>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Status</th>
                    <th>Actions</th>
                 </tr>
               </thead>
               <tbody class="ml-4"> 
                 {% for category in categories %}
                 <tr>
                    <td></td>
                    <td >{{category.name|default:''|truncatechars:20}}</td>
                    <td >{{category.description|safe|truncatechars:50}}</td>
                    <td >{{category.status}}</td>
                    <!-- <td>
                   {% if request.user|has_update_permission:"stock_management" %}
                     <a href="" data-bs-toggle="tooltip" data-bs-original-title="Edit Vendor">
                       <i class="fas fa-user-edit text-secondary"></i>
                     </a>
                     {% endif %}
                     {% if request.user|has_delete_permission:"stock_management" %}
 
                     <a href="#" type="button" class="mx-3" data-bs-toggle="tooltip" data-bs-original-title="Delete Vendor" 
 
                       onclick="CustomconfirmDelete({{category.id}}, 'Are you sure you want to delete this category?','The category has been deleted successfully.','')">
                      <i class="fas fa-trash text-secondary"></i>
 
                     </a> 
                     {% endif %}
                     
                   </td> -->
                 </tr>
               
                 {% endfor %}
               </tbody>
               
             </table>
           </div>
            </div>
       </div>
     </div>
   </div>
 </div>
 
 
 {% endblock %} 
 {% block extra_js %}
 <script src="{% static 'assets/js/plugins/perfect-scrollbar.min.js' %}"></script>
 <script src="{% static 'assets/js/plugins/smooth-scrollbar.min.js' %}"></script>
 <script src="{% static 'assets/js/plugins/datatables.js' %}"></script>
 <script src="{% static 'assets/js/plugins/sweetalert.min.js' %}"></script>
 <script src="{% static 'assets/js/custom_delete.js' %}"></script>
 <script>
   if (document.getElementById('category-list')) {
     const dataTableSearch = new simpleDatatables.DataTable("#category-list", {
       searchable: true,
       fixedHeight: false,
       perPage: 25
     });
 
   };
 
 
 </script>
 {% endblock %}     
 
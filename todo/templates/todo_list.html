<!-- add_contact.html -->
{% extends 'base.html' %}
{% load static %}
{% block title %} Todo List {{ block.super }}{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row mt-4">
      <div class="col-lg-8 col-8 mb-3">
          <!-- Add your content here -->
      </div>
      <div class="col-lg-4 col-4 mb-3 text-right">
          <a href="{% url 'contact_add' %}" class="btn bg-gradient-primary btn-sm mb-0"  style="float: right;">+&nbsp; Add ToDo</a>
      </div>
        <div class="col-lg-12 col-12">
          <div class="card">

            <div class="card-header pb-0">
              <div class="d-lg-flex">
                <div>
                  <h5 class="mb-0">ToDo List</h5>
                </div>
                <div class="ms-auto my-auto mt-lg-0 mt-4">
                  <div class="ms-auto my-auto">
                    <a href="{% url 'todo_add' %}" class="btn bg-gradient-primary btn-sm mb-0" >+&nbsp; New Task</a>
                  </div>
                </div>

            <div class="card-header p-3">
              <div class="row">
                <div class="col-md-6">
                  <h5 class="mb-0">ToDo List</h5>
                </div>
                <!-- <div class="col-md-6 text-right">
                  <div class="d-flex">
                    <div class="d-flex justify-content-end">
                    <div class="filter-container ">
                      <div class="dropdown d-inline ">
                        <a href="javascript:;" class="btn btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" id="priorityDropdown" aria-expanded="false">
                          Module
                        </a>
                        <ul class="dropdown-menu dropdown-menu-lg-start px-2 py-3" aria-labelledby="priorityDropdown" style="">
                            <li><a class="dropdown-item border-radius-md" href="javascript:;">Low</a></li>
                            <li><a class="dropdown-item border-radius-md" href="javascript:;">Medium</a></li>
                            <li><a class="dropdown-item border-radius-md" href="javascript:;">High</a></li>
                            <li>
                                <hr class="horizontal dark my-2">
                            </li>
                            <li><a class="dropdown-item border-radius-md text-danger" href="javascript:;">Remove Filter</a></li>
                        </ul>
                    </div>
                      <div class="dropdown d-inline ml-3">
                          <a href="javascript:;" class="btn btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" id="statusDropdown" aria-expanded="false">
                              Status
                          </a>
                          <ul class="dropdown-menu dropdown-menu-lg-start px-2 py-3" aria-labelledby="statusDropdown" style="">
                              <li><a class="dropdown-item border-radius-md" href="javascript:;">Pending</a></li>
                              <li><a class="dropdown-item border-radius-md" href="javascript:;">In-Progress</a></li>
                              <li><a class="dropdown-item border-radius-md" href="javascript:;">Completed</a></li>
                              <li>
                                  <hr class="horizontal dark my-2">
                              </li>
                              <li><a class="dropdown-item border-radius-md text-danger" href="javascript:;">Remove Filter</a></li>
                          </ul>
                      </div>
                  
                      <div class="dropdown d-inline ml-3">
                          <a href="javascript:;" class="btn btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" id="priorityDropdown" aria-expanded="false">
                              Priority
                          </a>
                          <ul class="dropdown-menu dropdown-menu-lg-start px-2 py-3" aria-labelledby="priorityDropdown" style="">
                              <li><a class="dropdown-item border-radius-md" href="javascript:;">Low</a></li>
                              <li><a class="dropdown-item border-radius-md" href="javascript:;">Medium</a></li>
                              <li><a class="dropdown-item border-radius-md" href="javascript:;">High</a></li>
                              <li>
                                  <hr class="horizontal dark my-2">
                              </li>
                              <li><a class="dropdown-item border-radius-md text-danger" href="javascript:;">Remove Filter</a></li>
                          </ul>
                      </div>
                      <div class="dropdown d-inline ml-3" >
                        <a href="javascript:;" class="btn btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" id="priorityDropdown" aria-expanded="false">
                          Assgined To
                        </a>
                        <ul class="dropdown-menu dropdown-menu-lg-start px-2 py-3" aria-labelledby="priorityDropdown" style="">
                            <li><a class="dropdown-item border-radius-md" href="javascript:;">Low</a></li>
                            <li><a class="dropdown-item border-radius-md" href="javascript:;">Medium</a></li>
                            <li><a class="dropdown-item border-radius-md" href="javascript:;">High</a></li>
                            <li>
                                <hr class="horizontal dark my-2">
                            </li>
                            <li><a class="dropdown-item border-radius-md text-danger" href="javascript:;">Remove Filter</a></li>
                        </ul>
                    </div>
                    
                    </div>
                  
                      
                  </div>
                  
                    
                    </div>
                </div> -->

              </div>
            </div>
            <div class="card-body p-3 pt-0">
              <ul class="list-group list-group-flush" data-toggle="checklist">
                {% for todo_data in todo_list %}
                  
                  <li class="list-group-item border-0 flex-column align-items-start ps-0 py-0 mb-3">
                    <div class="checklist-item {% if todo_data.status == 'in-progress' %}checklist-item-warning{% elif todo_data.status == 'completed' %}checklist-item-success{% else %}checklist-item-primary{% endif %} ps-2 ms-3">
                      <div class="d-flex align-items-center">
                        <h6 class="mb-0 text-dark font-weight-bold text-sm col-7">{{ todo_data.title }}</h6>
                        <div class="dropstart ms-auto pe-0">
                          <a href="javascript:;" class="cursor-pointer" id="dropdownTable2" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fa fa-ellipsis-h text-secondary" aria-hidden="true"></i>
                          </a>
                          <ul class="dropdown-menu px-2 py-3 ms-sm-n4 ms-n5" aria-labelledby="dropdownTable2" style="">
                            <li><a class="dropdown-item border-radius-md" href="{% url 'edit_task' todo_data.id %}">Edit</a></li>
                            <li><a class="dropdown-item border-radius-md" href="javascript:;">View</a></li>
                            <li><a class="dropdown-item border-radius-md" href="javascript:;">Delete</a></li>
                          </ul>
                        </div>
                      </div>
                      <div class="d-flex align-items-center ms-4 mt-3 ps-1 row">
                        <div class="col-lg-4 col-sm-12 col-xs-12">
                            <p class="text-xs mb-1 text-secondary font-weight-bold">{{ todo_data.description|truncatechars:200 }}</p>   
                            <span class="text-xs text-secondary">{{ todo_data.start_date|date:"M d, Y" }} - {{ todo_data.end_date|date:"M d, Y" }}</span>
                        </div>
                        <div class="col-lg-2 col-sm-12 col-xs-12">
                          <p class="text-xs mb-1 text-secondary font-weight-bold">Module</p>
                          <span class="text-xs font-weight-bolder">{{ todo_data.module.name|title }}</span>
                        </div>
                        <div class="col-lg-2 col-sm-12 col-xs-12">
                            <p class="text-xs mb-1 text-secondary font-weight-bold">Assgined To</p>
                            <span class="text-xs font-weight-bolder">{{ todo_data.assigned_to}}</span>
                          </div>
                          <div class="col-lg-2 col-sm-12 col-xs-12">
                          <p class="text-xs mb-1 text-secondary font-weight-bold">Status</p>
                          <span class="text-xs font-weight-bolder {% if todo_data.status == 'in-progress' %}text-warning{% elif todo_data.status == 'completed' %}text-success{% else %}text-primary{% endif %}">
                            {{ todo_data.status|title }}
                          </span>
                        </div>
                        <div class="col-lg-2 col-sm-12 col-xs-12">
                          <p class="text-xs mb-1 text-secondary font-weight-bold">Priority</p>
                          <span class="text-xs font-weight-bolder {% if todo_data.priority == 'high' %}text-danger{% elif todo_data.priority == 'medium' %}text-warning{% else %}text-primary{% endif %}">
                            {{ todo_data.priority|title }}
                          </span>
                        </div>
                      </div>
                    </div>
                    <hr class="horizontal dark mt-4 mb-0">
                  </li>
                  
                  
                {% endfor %}
               
              </ul>
            </div>
          </div>
        </div>
        
      </div>
</div>



{% endblock %}
{% block extra_js %}

{% endblock %}     
  

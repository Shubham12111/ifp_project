{% extends 'base.html' %}
{% load static %}
{% load rest_framework %}
{% block title %} Requirement {{ block.super }}{% endblock %}
{% block content %}
{% include 'components/alert.html' %}
<div class="container-fluid my-3 py-3">
  <div class="row mt-4">
    {% include 'requirement_management/requirement_actions.html' %}
    <div class="col-lg-9 mt-lg-0">

        <!-- Card Basic Info -->
        <div class="card" id="basic-info">
            <div class="card-header">
              <h5> Fire Risk Assessment Information</h5>
            </div>
            <div class="card-body pt-0">
              <form role="form"  method="POST" autocomplete="off" enctype="multipart/form-data">
                  <div class='row'>
                      {% csrf_token %}
                      {% render_form serializer %}
                  </div>
                  {% if serializer.data.presigned_url %}
                  <div class="col-lg-6">
                    <div style="position: relative;">
                      <a href="{{ serializer.data.presigned_url }}" download>
                        <span class="text-sm me-2">{{ serializer.data.filename }}</span>
                      </a>
                      <a href="#" class="delete-icon" onclick="CustomconfirmDelete({{requirement_instance.id}},
                        'Are you sure you want to delete this requirement document?','The requirement document has been deleted successfully.',
                        '{% url 'remove_requirement_document' requirement_instance.id %}')" class="delete-link ms-2" data-title="{{ requirement_instance.title}}">
                        <i class="fas fa-times-circle text-danger">  </i> 
                      </a>
                    </div>
                  </div>
                 {% endif %}
                  <button class="btn bg-gradient-dark btn-sm float-end mt-4 mb-0">Save</button>
              </form>
        </div>
    </div>
  </div>
</div>
{% endblock %}
{% block extra_js %}
<script src="{% static 'assets/js/plugins/choices.min.js' %}"></script>
<script src="{% static 'assets/js/custom_country.js' %}"></script>
<script src="{% static 'assets/js/plugins/sweetalert.min.js' %}"></script>
<script src="{% static 'assets/js/custom_delete.js' %}"></script>

{% endblock %}